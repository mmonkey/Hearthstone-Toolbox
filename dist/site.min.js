function processCardData(t){var a=[];return $.each(t,function(t,r){$.each(r,function(r,e){e.hasOwnProperty("set")||(e.set=t,a.push(e))})}),a}function renderCardList(t){$.each(t,function(t,a){if(a.hasOwnProperty("collectible")&&a.hasOwnProperty("type")&&"hero"!==a.type.toLowerCase()){var r=a.hasOwnProperty("set")?a.set:"",e=a.hasOwnProperty("name")?a.name:"",s=a.hasOwnProperty("rarity")?a.rarity:"",n=a.hasOwnProperty("type")?a.type:"",d=a.hasOwnProperty("race")?a.race:"",o=a.hasOwnProperty("playerClass")?a.playerClass:"",i=a.hasOwnProperty("cost")?a.cost:"",c=a.hasOwnProperty("attack")?a.attack:"",l=a.hasOwnProperty("health")?a.health:"",h=a.hasOwnProperty("text")?a.text:"",p="<tr>";p+="<td>"+r+"</td>",p+="<td>"+e+"</td>",p+="<td>"+s+"</td>",p+="<td>"+n+"</td>",p+="<td>"+d+"</td>",p+="<td>"+o+"</td>",p+="<td>"+i+"</td>",p+="<td>"+c+"</td>",p+="<td>"+l+"</td>",p+="<td>"+h+"</td>",p+="</tr>";var y=$(p).addClass("card-row").attr("data-card-id",a.id);$("table.card-list-table tbody").append(y)}}),$("table.card-list-table").tablesorter(),$("table.card-list-table tbody tr").click(function(){'<img src="'+imageUrlPrefix+$(this).data("cardId")+imageUrlExtension+'">'})}var dataUrl="https://hearthstonejson.com/json/AllSets.json",imageUrlPrefix="http://wow.zamimg.com/images/hearthstone/cards/enus/original/",imageUrlExtension=".png",goldImageUrlPrefix="http://wow.zamimg.com/images/hearthstone/cards/enus/animated/",goldImageUrlExtension="_premium.gif";$.ajax({dataType:"json",url:dataUrl,success:function(t){var a=processCardData(t);renderCardList(a)}});